@model BetaDota2StatsMVC.Models.MatchHeroViewModel

@{
    ViewBag.Title = "MatchDetail";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Match Details</h2>

<div>
    <h4>Match ID : @Model.Match.Match_Id</h4>
    <hr />
    @{
        var radiant = "RADIANT";
        var dire = "DIRE";
        if (Model.Match.Radiant_Win)
        {
            radiant = "RADIANT WON";
        }
        else
        {
            dire = "DIRE WON";
        }
    }
    <div>
        <table class="table table-striped table-dark">
            <thead>
                <tr>
                    <th scope="col">Heroes</th>
                    <th scope="col" width="300">Players</th>
                    <th scope="col">Kills</th>
                    <th scope="col">Deaths</th>
                    <th scope="col">Assists</th>
                    <th scope="col">NET</th>
                    <th scope="col">LH/DN</th>
                    <th scope="col">GPM/XPM</th>
                    <th scope="col">DMG</th>
                    <th scope="col">HEAL</th>
                    <th scope="col">BLD</th>
                    <th scope="col">OBS/SEN</th>
                </tr>
            </thead>
            <tbody>
                @radiant
                @foreach (var player in Model.Match.Players)
                {

                    if (player.IsRadiant)
                    {
                        <tr>
                            <td>
                                @{
                                    var heroName = Model.Heroes.Where(x => x.Value.Id == player.Hero_Id).Select(y => y.Value.Localized_name).FirstOrDefault();
                                }
                                @heroName
                            </td>
                            @if (@player.Personaname == null)
                            {
                                <td width="300">Unknown</td>
                            }
                            else
                            {
                                <td width="300">@player.Personaname</td>

                            }
                            <td>@player.Hero_Kills</td>
                            <td>@player.Deaths</td>
                            <td>@player.Assists</td>
                            <td>@player.Total_Gold</td>
                            <td>@player.Last_Hits/@player.Denies</td>
                            <td>@player.Gold_Per_Min/@player.Xp_Per_Min</td>
                            <td>@player.Hero_Damage</td>
                            <td>@player.Hero_Healing</td>
                            <td>@player.Tower_Damage</td>
                            <td>@player.Obs_Placed/@player.Sen_Placed</td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
    <div>
        <table class="table table-striped table-dark">
            <thead>
                <tr>
                    <th scope="col">Heroes</th>
                    <th scope="col" width="300">Players</th>
                    <th scope="col">Kills</th>
                    <th scope="col">Deaths</th>
                    <th scope="col">Assists</th>
                    <th scope="col">NET</th>
                    <th scope="col">LH/DN</th>
                    <th scope="col">GPM/XPM</th>
                    <th scope="col">DMG</th>
                    <th scope="col">HEAL</th>
                    <th scope="col">BLD</th>
                    <th scope="col">OBS/SEN</th>
                </tr>
            </thead>
            <tbody>
                @dire
                @foreach (var player in Model.Match.Players)
                {

                    if (!player.IsRadiant)
                    {
                        <tr>
                            <td>
                                @{
                                    var heroName = Model.Heroes.Where(x => x.Value.Id == player.Hero_Id).Select(y => y.Value.Localized_name).FirstOrDefault();
                                }
                                @heroName
                            </td>
                            @if (@player.Personaname == null)
                            {
                                <td width="300">Unknown</td>
                            }
                            else
                            {
                                <td width="300">@player.Personaname</td>

                            }
                            <td>@player.Hero_Kills</td>
                            <td>@player.Deaths</td>
                            <td>@player.Assists</td>
                            <td>@player.Total_Gold</td>
                            <td>@player.Last_Hits/@player.Denies</td>
                            <td>@player.Gold_Per_Min/@player.Xp_Per_Min</td>
                            <td>@player.Hero_Damage</td>
                            <td>@player.Hero_Healing</td>
                            <td>@player.Tower_Damage</td>
                            <td>@player.Obs_Placed/@player.Sen_Placed</td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>
<p>
    @*@Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ }) |*@
    @Html.ActionLink("Back to List", "Index")
</p>
